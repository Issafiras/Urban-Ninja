<!DOCTYPE html>
<html lang="da">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Urban Ninja - Den Ultimative Navigations App</title>

    <!-- Meta tags for PWA -->
    <meta name="description" content="Den ultimative navigations-app til byens skygger med ninja modes og avancerede genveje">
    <meta name="theme-color" content="#00FFFF">

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="favicon.ico">

    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">

    <!-- Apple Touch Icons -->
    <link rel="apple-touch-icon" href="icon-192x192.png">
    <link rel="apple-touch-icon" sizes="512x512" href="icon-512x512.png">

    <!-- External CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="">
    <link rel="stylesheet" href="https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.css" />

    <!-- Custom Styles -->
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <!-- Main Map Container -->
    <main id="map" role="main" aria-label="Kort over Danmark"></main>

    <!-- Visual Effects -->
    <canvas class="matrix-rain" id="matrixRain" aria-hidden="true"></canvas>
    <div class="particle-container" id="particleContainer" aria-hidden="true"></div>

    <!-- AR Overlay -->
    <div class="ar-overlay" id="arOverlay" aria-hidden="true">
        <div class="ar-compass" id="arCompass"></div>
        <div class="ar-navigation-hint" id="arNavigationHint">AR Navigation: F√∏lg den neon-bl√• rute</div>
    </div>

    <!-- Status Indicators -->
    <div class="offline-indicator" id="offlineIndicator" role="status" aria-live="polite">OFFLINE MODE</div>
    <div class="carplay-indicator" id="carplayIndicator" role="status">CARPLAY ACTIVE</div>
    <div class="siri-suggestion" id="siriSuggestion">Sig "Hey Siri, start Urban Ninja navigation"</div>

    <!-- Emergency Control Panel Toggle -->
    <button class="emergency-toggle" id="emergencyToggle" aria-label="Gendan kontrolpanel" title="Vis kontrolpanel hvis det forsvinder">
        <span class="emergency-icon">‚ö†Ô∏è</span>
    </button>

    <!-- Control Panel / Wizard -->
    <aside class="control-panel" role="region" aria-label="Urban Ninja Kontrolpanel">
        <header class="panel-header">
            <h1>URBAN NINJA</h1>
        </header>

        <!-- Step 1: Start Point -->
        <section id="wizard-step-1" class="wizard-step active" aria-labelledby="step1-title">
            <h2 id="step1-title" class="step-title">1. START POINT</h2>

            <div class="input-group">
                <div class="search-container">
                    <input type="text" id="startInput" class="address-input"
                           placeholder="Start adresse..."
                           autocomplete="off"
                           aria-describedby="start-help"
                           aria-label="Indtast start adresse">
                    <button id="startSearchBtn" class="search-button" aria-label="S√∏g efter adresse">
                        <span class="search-icon">üîç</span>
                    </button>
                    <div id="startSuggestions" class="address-suggestions" role="listbox" aria-label="Adresse forslag"></div>
                </div>
                <small id="start-help" class="input-help">Skriv adresse eller v√¶lg fra forslag</small>
            </div>

            <div class="button-group">
                <button id="useLocationBtn" class="ninja-button primary locate-button" aria-label="Find min position via GPS">
                    <span class="button-icon">üìç</span>
                    FIND MIG (GPS)
                </button>

                <button id="step1Next" class="ninja-button secondary next-button" aria-label="G√• til n√¶ste trin">
                    N√ÜSTE <span class="arrow-icon">‚Üí</span>
                </button>
            </div>
        </section>

        <!-- Step 2: Destination -->
        <section id="wizard-step-2" class="wizard-step" aria-labelledby="step2-title">
            <h2 id="step2-title" class="step-title">2. TARGET</h2>

            <div class="input-group">
                <div class="search-container">
                    <input type="text" id="destInput" class="address-input"
                           placeholder="Destination adresse..."
                           autocomplete="off"
                           aria-describedby="dest-help"
                           aria-label="Indtast destination adresse">
                    <button id="destSearchBtn" class="search-button" aria-label="S√∏g efter adresse">
                        <span class="search-icon">üîç</span>
                    </button>
                    <div id="destSuggestions" class="address-suggestions" role="listbox" aria-label="Adresse forslag"></div>
                </div>
                <small id="dest-help" class="input-help">Skriv adresse eller v√¶lg fra forslag</small>
            </div>

            <div class="button-group">
                <button id="step2Back" class="ninja-button back-button" aria-label="G√• tilbage til forrige trin">
                    <span class="arrow-icon">‚Üê</span> TILBAGE
                </button>
                <button id="step2Next" class="ninja-button primary next-button" aria-label="G√• til n√¶ste trin">
                    N√ÜSTE <span class="arrow-icon">‚Üí</span>
                </button>
            </div>
        </section>

        <!-- Step 3: Hacks & Modes -->
        <section id="wizard-step-3" class="wizard-step" aria-labelledby="step3-title">
            <h2 id="step3-title" class="step-title">3. ACTIVATE HACKS</h2>

            <div class="hacks-grid" role="group" aria-label="V√¶lg ninja modes">
                <button class="hack-toggle ninja-button" data-hack="ninja" aria-label="Aktiver ninja mode med m√∏rkt tema">
                    <span class="hack-icon">ü•∑</span>
                    NINJA MODE
                </button>
                <button class="hack-toggle ninja-button" data-hack="aggressive" aria-label="Aktiver aggressive routing uden motorveje">
                    <span class="hack-icon">üèéÔ∏è</span>
                    SMUTVEJS-KONGEN
                </button>
                <button class="hack-toggle ninja-button" data-hack="urban-ninja" aria-label="Aktiver urban ninja med alle genveje">
                    <span class="hack-icon">üêÄ</span>
                    URBAN NINJA
                </button>
                <button class="hack-toggle ninja-button" data-hack="stealth" aria-label="Aktiver stealth mode">
                    <span class="hack-icon">üë§</span>
                    STEALTH
                </button>
                <button class="hack-toggle ninja-button" data-hack="nightvision" aria-label="Aktiver night vision filter">
                    <span class="hack-icon">üåô</span>
                    NIGHT VISION
                </button>
                <button class="hack-toggle ninja-button" data-hack="voice" aria-label="Aktiver voice commands">
                    <span class="hack-icon">üé§</span>
                    VOICE CMD
                </button>
                <button class="hack-toggle ninja-button" data-hack="predictive" aria-label="Aktiver predictive routing">
                    <span class="hack-icon">üîÆ</span>
                    PREDICTIVE
                </button>
                <button class="hack-toggle ninja-button" data-hack="ar" aria-label="Aktiver augmented reality overlay">
                    <span class="hack-icon">üì±</span>
                    AR OVERLAY
                </button>
                <button class="hack-toggle ninja-button" data-hack="social" aria-label="Aktiver social features">
                    <span class="hack-icon">ü´Ç</span>
                    SOCIAL
                </button>
            </div>

            <div class="button-group">
                <button id="step3Back" class="ninja-button back-button" aria-label="G√• tilbage til forrige trin">
                    <span class="arrow-icon">‚Üê</span> TILBAGE
                </button>
                <button id="startMissionBtn" class="ninja-button primary start-mission-button" aria-label="Start mission med valgte indstillinger">
                    <span class="mission-icon">üöÄ</span>
                    START MISSION
                </button>
            </div>
        </section>

        <!-- Active Mission Controls -->
        <section id="mission-controls" class="mission-controls" aria-labelledby="mission-title">
            <h2 id="mission-title" class="mission-title">MISSION ACTIVE</h2>

            <div class="status-display">
                <div class="status" id="status" role="status" aria-live="polite">Routing...</div>
                <div class="traffic-status" id="trafficStatus" role="status" aria-live="polite">
                    <span class="traffic-icon">üö¶</span>
                    Henter trafikdata...
                </div>
            </div>

            <div class="progress-container" role="progressbar" aria-label="Routing fremskridt" aria-valuemin="0" aria-valuemax="100">
                <div class="progress-bar" id="progressBar"></div>
            </div>

            <div class="mission-actions">
                <button id="googleMapsButton" class="ninja-button" aria-label="√Öbn rute i Google Maps">
                    <span class="maps-icon">üó∫Ô∏è</span>
                    GOOGLE MAPS
                </button>
                <button id="appleModeButton" class="ninja-button apple-button" aria-label="Aktiver Apple integration">
                    <span class="apple-icon">Ô£ø</span>
                    APPLE MODE
                </button>
            </div>

            <button id="newMissionBtn" class="ninja-button danger new-mission-button" aria-label="Start ny mission">
                <span class="new-icon">üîÑ</span>
                NEW MISSION
            </button>
        </section>
    </aside>

    <!-- Social Panel -->
    <aside class="social-panel" id="socialPanel" role="complementary" aria-label="Social features">
        <header class="social-header">
            <h2>ü´Ç NINJA SOCIAL</h2>
        </header>

        <div class="buddy-list" id="buddyList" role="region" aria-label="Ninja buddies">
            <div class="buddy-entry loading">S√∏ger efter ninja buddies...</div>
        </div>

        <div class="social-actions">
            <button class="ninja-button social-button" id="shareRouteButton" aria-label="Del din rute">
                <span class="share-icon">üöÄ</span>
                DEL RUTE
            </button>
            <button class="ninja-button social-button" id="findBuddiesButton" aria-label="Find ninja buddies">
                <span class="find-icon">üéØ</span>
                FIND BUDDIES
            </button>
        </div>

        <div class="leaderboard" id="leaderboard" role="region" aria-label="Leaderboard">
            <h3 class="leaderboard-title">ü•á LEADERBOARD</h3>
            <div id="leaderboardContent" class="leaderboard-content">
                <div class="leaderboard-entry gold">
                    <span class="rank">üèÜ</span>
                    <span class="name">ShadowMaster</span>
                    <span class="score">15,420km</span>
                </div>
                <div class="leaderboard-entry silver">
                    <span class="rank">ü•à</span>
                    <span class="name">NightRunner</span>
                    <span class="score">12,890km</span>
                </div>
                <div class="leaderboard-entry bronze">
                    <span class="rank">ü•â</span>
                    <span class="name">CyberNinja</span>
                    <span class="score">11,245km</span>
                </div>
                <div class="leaderboard-entry">
                    <span class="rank">‚ö°</span>
                    <span class="name">StealthFox</span>
                    <span class="score">9,876km</span>
                </div>
                <div class="leaderboard-entry">
                    <span class="rank">üåô</span>
                    <span class="name">DarkPhantom</span>
                    <span class="score">8,543km</span>
                </div>
            </div>
        </div>
    </aside>

    <!-- Apple Integration Panel -->
    <aside class="apple-integration-panel" id="appleIntegrationPanel" role="complementary" aria-label="Apple integration">
        <header class="apple-header">
            <h2>Ô£ø APPLE INTEGRATION</h2>
        </header>

        <div class="apple-card">
            <h3>Apple Maps</h3>
            <p>√Öbn rute i Apple Maps for ultimativ navigation</p>
        </div>

        <div class="apple-actions">
            <button class="ninja-button apple-button" id="openInAppleMapsButton" aria-label="√Öbn i Apple Maps">
                <span class="apple-maps-icon">üó∫Ô∏è</span>
                √ÖBN I APPLE MAPS
            </button>
            <button class="ninja-button apple-button" id="shareWithSiriButton" aria-label="Del med Siri">
                <span class="siri-icon">üé§</span>
                DEL MED SIRI
            </button>
            <button class="ninja-button apple-button" id="carplayModeButton" aria-label="Aktiver CarPlay mode">
                <span class="carplay-icon">üöó</span>
                CARPLAY MODE
            </button>
        </div>
    </aside>

    <!-- External JavaScript -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <script src="https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.js"></script>

    <!-- Custom JavaScript -->
    <script src="app.js"></script>
</body>

</html>