<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Urban Ninja - Web App</title>

    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">

    <!-- Apple Touch Icon for iOS -->
    <link rel="apple-touch-icon" href="icon-192x192.png">

    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
          integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
          crossorigin=""/>

    <!-- Leaflet Routing Machine CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.css" />

    <!-- Custom Styles -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Map Container -->
    <div id="map"></div>

    <!-- Advanced Visual Effects -->
    <div class="matrix-rain" id="matrixRain"></div>
    <div class="particle-container" id="particleContainer"></div>

    <!-- Augmented Reality Overlay -->
    <div class="ar-overlay" id="arOverlay">
        <div class="ar-compass" id="arCompass"></div>
        <div class="ar-navigation-hint" id="arNavigationHint">AR Navigation: F√∏lg den neon-bl√• rute</div>
    </div>

    <!-- Offline Status Indicator -->
    <div class="offline-indicator" id="offlineIndicator">OFFLINE MODE</div>

    <!-- Social Panel -->
    <div class="social-panel" id="socialPanel">
        <h3>ü´Ç NINJA SOCIAL</h3>
        <div id="buddyList">
            <div class="leaderboard-entry">S√∏ger efter ninja buddies...</div>
        </div>
        <button class="route-share-button" id="shareRouteButton">üöÄ DEL RUTE</button>
        <button class="route-share-button" id="findBuddiesButton">üéØ FIND BUDDIES</button>
        <div id="leaderboard">
            <h4 style="color: #FF1493; margin: 10px 0 5px 0; font-size: 14px;">ü•á LEADERBOARD</h4>
            <div id="leaderboardContent">
                <div class="leaderboard-entry gold">üèÜ ShadowMaster - 15,420km</div>
                <div class="leaderboard-entry silver">ü•à NightRunner - 12,890km</div>
                <div class="leaderboard-entry bronze">ü•â CyberNinja - 11,245km</div>
                <div class="leaderboard-entry">‚ö° StealthFox - 9,876km</div>
                <div class="leaderboard-entry">üåô DarkPhantom - 8,543km</div>
            </div>
        </div>
    </div>

    <!-- Apple Integration Panel -->
    <div class="apple-integration-panel" id="appleIntegrationPanel">
        <h3>Ô£ø APPLE INTEGRATION</h3>
        <div class="apple-style-card">
            <strong>Apple Maps</strong><br/>
            <small>√Öbn rute i Apple Maps for ultimativ navigation</small>
        </div>
        <button class="apple-maps-button" id="openInAppleMapsButton">üó∫Ô∏è √ÖBN I APPLE MAPS</button>
        <button class="apple-maps-button" id="shareWithSiriButton">üé§ DEL MED SIRI</button>
        <button class="apple-maps-button" id="carplayModeButton">üöó CARPLAY MODE</button>
    </div>

    <!-- Apple UI Elements -->
    <div class="carplay-indicator" id="carplayIndicator">CARPLAY ACTIVE</div>
    <div class="siri-suggestion" id="siriSuggestion">Sig "Hey Siri, start Urban Ninja navigation"</div>

    <!-- Control Panel -->
    <div class="control-panel liquid-button" role="region" aria-label="Urban Ninja Controls">
        <h2>URBAN NINJA</h2>
        <button id="ninjaToggle" class="ninja-toggle"
                aria-label="Toggle Ninja Mode - Press N"
                title="Toggle mellem normal og ninja mode (Genvej: N)">
            ACTIVATE NINJA MODE
        </button>
        <button id="locateButton" class="ninja-toggle locate-button"
                aria-label="Find din position - Press L"
                title="Find og vis din GPS position (Genvej: L)">
            FIND MIG
        </button>
        <button id="aggressiveButton" class="ninja-toggle aggressive-button"
                aria-label="Toggle Aggressive Route - Press A"
                title="Undg√• motorveje for hurtigere byk√∏rsel (Genvej: A)">
            AGGRESSIVE ROUTE: OFF
        </button>
        <button id="resetButton" class="ninja-toggle"
                aria-label="Reset Route - Press R"
                title="Nulstil ruten til standard (Genvej: R)">
            RESET ROUTE
        </button>
        <button id="googleMapsButton" class="ninja-toggle"
                aria-label="√Öbn i Google Maps - Press G"
                title="√Öbn denne rute i Google Maps (Genvej: G)">
            √ÖBN I GOOGLE MAPS
        </button>

        <!-- Advanced Ninja Features -->
        <button id="stealthModeButton" class="ninja-toggle stealth-button"
                aria-label="Stealth Mode - Press S"
                title="Aktiver stealth mode for usynlig navigation (Genvej: S)">
            STEALTH MODE: OFF
        </button>
        <button id="nightVisionButton" class="ninja-toggle nightvision-button"
                aria-label="Night Vision - Press V"
                title="Aktiver night vision filter (Genvej: V)">
            NIGHT VISION: OFF
        </button>
        <button id="ninjaAlertsButton" class="ninja-toggle alerts-button"
                aria-label="Ninja Alerts - Press T"
                title="Aktiver ninja trafik advarsler (Genvej: T)">
            NINJA ALERTS: OFF
        </button>

        <!-- Voice Integration -->
        <button id="voiceCommandButton" class="ninja-toggle voice-button"
                aria-label="Voice Commands - Press C"
                title="Aktiver stemmekommandoer for h√¶nderfri navigation (Genvej: C)">
            VOICE COMMAND: OFF
        </button>

        <!-- Predictive Routing -->
        <button id="predictiveRoutingButton" class="ninja-toggle predictive-button"
                aria-label="Predictive Routing - Press P"
                title="Aktiver smart predictive routing baseret p√• tid og trafik (Genvej: P)">
            PREDICTIVE ROUTING: OFF
        </button>

        <!-- Augmented Reality Overlay -->
        <button id="arOverlayButton" class="ninja-toggle ar-button"
                aria-label="AR Overlay - Press O"
                title="Aktiver augmented reality overlay med POI information (Genvej: O)">
            AR OVERLAY: OFF
        </button>

        <!-- Offline Mode -->
        <button id="offlineModeButton" class="ninja-toggle offline-button"
                aria-label="Offline Mode - Press F"
                title="Aktiver offline mode med cached kort og routes (Genvej: F)">
            OFFLINE MODE: OFF
        </button>

        <!-- Social Features -->
        <button id="socialModeButton" class="ninja-toggle social-button"
                aria-label="Social Mode - Press Z"
                title="Aktiver social mode - find buddies og del routes (Genvej: Z)">
            SOCIAL NINJA: OFF
        </button>

        <!-- Apple Integration -->
        <button id="appleModeButton" class="ninja-toggle apple-button"
                aria-label="Apple Integration - Press Y"
                title="Aktiver Apple Maps og CarPlay integration (Genvej: Y)">
            APPLE MODE: OFF
        </button>

        <!-- Address Search Section -->
        <div class="search-section">
            <div style="position: relative;">
                <input type="text" id="addressSearch" class="address-input"
                       placeholder="S√∏g efter adresse..."
                       aria-label="S√∏g efter adresse for navigation"
                       autocomplete="off">
                <div id="addressSuggestions" class="address-suggestions" role="listbox"></div>
            </div>
            <button id="searchButton" class="ninja-toggle search-button"
                    aria-label="S√∏g efter adresse"
                    title="S√∏g efter adresse og opdater rute">
                S√òG ADRESSE
            </button>
        </div>

        <div class="progress-container" id="progressContainer"
             role="progressbar" aria-label="Routing progress">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        <div class="status" id="status" role="status" aria-live="polite">Routing: Sabro ‚Üí Aarhus C</div>
    </div>

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
            integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
            crossorigin=""></script>

    <!-- Leaflet Routing Machine JS -->
    <script src="https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.js"></script>

    <!-- Custom JavaScript -->
    <script src="app.js"></script>
</body>
</html>